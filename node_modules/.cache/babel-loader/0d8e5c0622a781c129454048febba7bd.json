{"ast":null,"code":"import * as actionTypes from '../actions/cartActionTypes';\nimport axiosOrder from '../../axios-orders';\nimport { asyncFetchProductsStart } from './shop';\nexport const fetchCartStart = () => {\n  return {\n    type: actionTypes.FETCH_CART_START\n  };\n};\nexport const fetchCartSuccess = cart => {\n  return {\n    type: actionTypes.FETCH_CART_SUCCESS,\n    cart: cart\n  };\n};\nexport const fetchCartFail = error => {\n  return {\n    type: actionTypes.FETCH_CART_FAIL,\n    error: error\n  };\n};\nexport const asyncFetchCartStart = (token, userId) => {\n  return dispatch => {\n    dispatch(fetchCartStart()); // const queryParams = '?auth=' + token + '&orderBy=\"userId\"&equalTo=\"' + userId + '\"'; //FIREBASE\n\n    axiosOrder.get('/cart', // + queryParams\n    {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n        UserId: `${userId}`\n      }\n    }).then(res => {\n      console.log(res.data);\n      dispatch(fetchCartSuccess({\n        products: res.data.products,\n        totalPrice: res.data.totalPrice\n      }));\n    }).catch(error => {\n      dispatch(fetchCartFail(error));\n    });\n  };\n}; // export const addToCart = (productId) => {\n//   return {\n//     type: actionTypes.REMOVE_PRODUCT_FROM_CART,\n//     productId: productId,\n//   };\n// };\n\nexport const removeFromCartStart = () => {\n  return {\n    type: actionTypes.REMOVE_PRODUCT_FROM_CART_START\n  };\n};\nexport const removeFromCartSuccess = productId => {\n  return {\n    type: actionTypes.REMOVE_PRODUCT_FROM_CART_SUCCESS,\n    productId: productId\n  };\n};\nexport const removeFromCartFail = error => {\n  return {\n    type: actionTypes.REMOVE_PRODUCT_FROM_CART_FAIL,\n    error: error\n  };\n};\nexport const asyncRemoveFromCartStart = (token, userId, productId) => {\n  return dispatch => {\n    dispatch(removeFromCartStart());\n    axiosOrder.delete('/cart', {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n        UserId: `${userId}`\n      },\n      data: {\n        productId: productId\n      }\n    }).then(res => {\n      console.log(res.data);\n      dispatch(removeFromCartSuccess(productId));\n    }).then(() => {\n      asyncFetchProductsStart(token, userId);\n    }).catch(err => {\n      dispatch(removeFromCartFail(err));\n    });\n  };\n};\nexport const addToCartStart = () => {\n  return {\n    type: actionTypes.ADD_PRODUCT_TO_CART_START\n  };\n};\nexport const addToCartSuccess = cart => {\n  return {\n    type: actionTypes.ADD_PRODUCT_TO_CART_SUCCESS,\n    cart: cart\n  };\n};\nexport const addToCartFail = error => {\n  return {\n    type: actionTypes.ADD_PRODUCT_TO_CART_FAIL,\n    error: error\n  };\n};\nexport const asyncAddToCartStart = (token, userId, productId) => {\n  return dispatch => {\n    console.log(productId);\n    dispatch(addToCartStart()); // const queryParams = '?auth=' + token + '&orderBy=\"userId\"&equalTo=\"' + userId + '\"'; //FIREBASE\n\n    axiosOrder.post('/cart', {\n      productId: productId\n    }, {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n        UserId: `${userId}`\n      }\n    }).then(res => {\n      console.log(res.data);\n      dispatch(addToCartSuccess({\n        cart: res.data.cart\n      }));\n    }).then(() => {}).catch(error => {\n      dispatch(addToCartFail(error));\n    });\n  };\n};","map":{"version":3,"names":["actionTypes","axiosOrder","asyncFetchProductsStart","fetchCartStart","type","FETCH_CART_START","fetchCartSuccess","cart","FETCH_CART_SUCCESS","fetchCartFail","error","FETCH_CART_FAIL","asyncFetchCartStart","token","userId","dispatch","get","headers","Authorization","UserId","then","res","console","log","data","products","totalPrice","catch","removeFromCartStart","REMOVE_PRODUCT_FROM_CART_START","removeFromCartSuccess","productId","REMOVE_PRODUCT_FROM_CART_SUCCESS","removeFromCartFail","REMOVE_PRODUCT_FROM_CART_FAIL","asyncRemoveFromCartStart","delete","err","addToCartStart","ADD_PRODUCT_TO_CART_START","addToCartSuccess","ADD_PRODUCT_TO_CART_SUCCESS","addToCartFail","ADD_PRODUCT_TO_CART_FAIL","asyncAddToCartStart","post"],"sources":["A:/PORTFÃ“LIO/ProjetoNodeShopComRestAPI/front-end-react/src/store/actions/cart.js"],"sourcesContent":["import * as actionTypes from '../actions/cartActionTypes';\r\n\r\nimport axiosOrder from '../../axios-orders';\r\nimport { asyncFetchProductsStart } from './shop';\r\n\r\nexport const fetchCartStart = () => {\r\n  return {\r\n    type: actionTypes.FETCH_CART_START,\r\n  };\r\n};\r\n\r\nexport const fetchCartSuccess = (cart) => {\r\n  return {\r\n    type: actionTypes.FETCH_CART_SUCCESS,\r\n    cart: cart,\r\n  };\r\n};\r\n\r\nexport const fetchCartFail = (error) => {\r\n  return {\r\n    type: actionTypes.FETCH_CART_FAIL,\r\n    error: error,\r\n  };\r\n};\r\n\r\nexport const asyncFetchCartStart = (token, userId) => {\r\n  return (dispatch) => {\r\n    dispatch(fetchCartStart());\r\n\r\n    // const queryParams = '?auth=' + token + '&orderBy=\"userId\"&equalTo=\"' + userId + '\"'; //FIREBASE\r\n\r\n    axiosOrder\r\n      .get(\r\n        '/cart',\r\n        // + queryParams\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`,\r\n            UserId: `${userId}`,\r\n          },\r\n        }\r\n      )\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        dispatch(\r\n          fetchCartSuccess({\r\n            products: res.data.products,\r\n            totalPrice: res.data.totalPrice,\r\n          })\r\n        );\r\n      })\r\n      .catch((error) => {\r\n        dispatch(fetchCartFail(error));\r\n      });\r\n  };\r\n};\r\n\r\n// export const addToCart = (productId) => {\r\n//   return {\r\n//     type: actionTypes.REMOVE_PRODUCT_FROM_CART,\r\n//     productId: productId,\r\n//   };\r\n// };\r\n\r\nexport const removeFromCartStart = () => {\r\n  return {\r\n    type: actionTypes.REMOVE_PRODUCT_FROM_CART_START,\r\n  };\r\n};\r\n\r\nexport const removeFromCartSuccess = (productId) => {\r\n  return {\r\n    type: actionTypes.REMOVE_PRODUCT_FROM_CART_SUCCESS,\r\n    productId: productId,\r\n  };\r\n};\r\n\r\nexport const removeFromCartFail = (error) => {\r\n  return {\r\n    type: actionTypes.REMOVE_PRODUCT_FROM_CART_FAIL,\r\n    error: error,\r\n  };\r\n};\r\n\r\nexport const asyncRemoveFromCartStart = (token, userId, productId) => {\r\n  return (dispatch) => {\r\n    dispatch(removeFromCartStart());\r\n\r\n    axiosOrder\r\n      .delete(\r\n        '/cart',\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`,\r\n            UserId: `${userId}`,\r\n          },\r\n          data: {\r\n            productId: productId,\r\n          },\r\n        }\r\n      )\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        dispatch(removeFromCartSuccess(productId));\r\n      })\r\n      .then(() => {\r\n        asyncFetchProductsStart(token, userId);\r\n      })\r\n      .catch((err) => {\r\n        dispatch(removeFromCartFail(err));\r\n      });\r\n  };\r\n};\r\n\r\nexport const addToCartStart = () => {\r\n  return {\r\n    type: actionTypes.ADD_PRODUCT_TO_CART_START,\r\n  };\r\n};\r\n\r\nexport const addToCartSuccess = (cart) => {\r\n  return {\r\n    type: actionTypes.ADD_PRODUCT_TO_CART_SUCCESS,\r\n    cart: cart,\r\n  };\r\n};\r\n\r\nexport const addToCartFail = (error) => {\r\n  return {\r\n    type: actionTypes.ADD_PRODUCT_TO_CART_FAIL,\r\n    error: error,\r\n  };\r\n};\r\n\r\nexport const asyncAddToCartStart = (token, userId, productId) => {\r\n  return (dispatch) => {\r\n    console.log(productId);\r\n    dispatch(addToCartStart());\r\n\r\n    // const queryParams = '?auth=' + token + '&orderBy=\"userId\"&equalTo=\"' + userId + '\"'; //FIREBASE\r\n\r\n    axiosOrder\r\n      .post(\r\n        '/cart',\r\n        {\r\n          productId: productId,\r\n        },\r\n\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`,\r\n            UserId: `${userId}`,\r\n          },\r\n        }\r\n      )\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        \r\n          dispatch(\r\n          addToCartSuccess({\r\n            cart: res.data.cart,\r\n          })\r\n        );\r\n      })\r\n      .then(() => {\r\n\r\n      })\r\n      .catch((error) => {\r\n        dispatch(addToCartFail(error));\r\n      });\r\n  };\r\n};\r\n"],"mappings":"AAAA,OAAO,KAAKA,WAAZ,MAA6B,4BAA7B;AAEA,OAAOC,UAAP,MAAuB,oBAAvB;AACA,SAASC,uBAAT,QAAwC,QAAxC;AAEA,OAAO,MAAMC,cAAc,GAAG,MAAM;EAClC,OAAO;IACLC,IAAI,EAAEJ,WAAW,CAACK;EADb,CAAP;AAGD,CAJM;AAMP,OAAO,MAAMC,gBAAgB,GAAIC,IAAD,IAAU;EACxC,OAAO;IACLH,IAAI,EAAEJ,WAAW,CAACQ,kBADb;IAELD,IAAI,EAAEA;EAFD,CAAP;AAID,CALM;AAOP,OAAO,MAAME,aAAa,GAAIC,KAAD,IAAW;EACtC,OAAO;IACLN,IAAI,EAAEJ,WAAW,CAACW,eADb;IAELD,KAAK,EAAEA;EAFF,CAAP;AAID,CALM;AAOP,OAAO,MAAME,mBAAmB,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;EACpD,OAAQC,QAAD,IAAc;IACnBA,QAAQ,CAACZ,cAAc,EAAf,CAAR,CADmB,CAGnB;;IAEAF,UAAU,CACPe,GADH,CAEI,OAFJ,EAGI;IACA;MACEC,OAAO,EAAE;QACP,gBAAgB,kBADT;QAEPC,aAAa,EAAG,UAASL,KAAM,EAFxB;QAGPM,MAAM,EAAG,GAAEL,MAAO;MAHX;IADX,CAJJ,EAYGM,IAZH,CAYSC,GAAD,IAAS;MACbC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;MACAT,QAAQ,CACNT,gBAAgB,CAAC;QACfmB,QAAQ,EAAEJ,GAAG,CAACG,IAAJ,CAASC,QADJ;QAEfC,UAAU,EAAEL,GAAG,CAACG,IAAJ,CAASE;MAFN,CAAD,CADV,CAAR;IAMD,CApBH,EAqBGC,KArBH,CAqBUjB,KAAD,IAAW;MAChBK,QAAQ,CAACN,aAAa,CAACC,KAAD,CAAd,CAAR;IACD,CAvBH;EAwBD,CA7BD;AA8BD,CA/BM,C,CAiCP;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,MAAMkB,mBAAmB,GAAG,MAAM;EACvC,OAAO;IACLxB,IAAI,EAAEJ,WAAW,CAAC6B;EADb,CAAP;AAGD,CAJM;AAMP,OAAO,MAAMC,qBAAqB,GAAIC,SAAD,IAAe;EAClD,OAAO;IACL3B,IAAI,EAAEJ,WAAW,CAACgC,gCADb;IAELD,SAAS,EAAEA;EAFN,CAAP;AAID,CALM;AAOP,OAAO,MAAME,kBAAkB,GAAIvB,KAAD,IAAW;EAC3C,OAAO;IACLN,IAAI,EAAEJ,WAAW,CAACkC,6BADb;IAELxB,KAAK,EAAEA;EAFF,CAAP;AAID,CALM;AAOP,OAAO,MAAMyB,wBAAwB,GAAG,CAACtB,KAAD,EAAQC,MAAR,EAAgBiB,SAAhB,KAA8B;EACpE,OAAQhB,QAAD,IAAc;IACnBA,QAAQ,CAACa,mBAAmB,EAApB,CAAR;IAEA3B,UAAU,CACPmC,MADH,CAEI,OAFJ,EAGI;MACEnB,OAAO,EAAE;QACP,gBAAgB,kBADT;QAEPC,aAAa,EAAG,UAASL,KAAM,EAFxB;QAGPM,MAAM,EAAG,GAAEL,MAAO;MAHX,CADX;MAMEU,IAAI,EAAE;QACJO,SAAS,EAAEA;MADP;IANR,CAHJ,EAcGX,IAdH,CAcSC,GAAD,IAAS;MACbC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;MACAT,QAAQ,CAACe,qBAAqB,CAACC,SAAD,CAAtB,CAAR;IACD,CAjBH,EAkBGX,IAlBH,CAkBQ,MAAM;MACVlB,uBAAuB,CAACW,KAAD,EAAQC,MAAR,CAAvB;IACD,CApBH,EAqBGa,KArBH,CAqBUU,GAAD,IAAS;MACdtB,QAAQ,CAACkB,kBAAkB,CAACI,GAAD,CAAnB,CAAR;IACD,CAvBH;EAwBD,CA3BD;AA4BD,CA7BM;AA+BP,OAAO,MAAMC,cAAc,GAAG,MAAM;EAClC,OAAO;IACLlC,IAAI,EAAEJ,WAAW,CAACuC;EADb,CAAP;AAGD,CAJM;AAMP,OAAO,MAAMC,gBAAgB,GAAIjC,IAAD,IAAU;EACxC,OAAO;IACLH,IAAI,EAAEJ,WAAW,CAACyC,2BADb;IAELlC,IAAI,EAAEA;EAFD,CAAP;AAID,CALM;AAOP,OAAO,MAAMmC,aAAa,GAAIhC,KAAD,IAAW;EACtC,OAAO;IACLN,IAAI,EAAEJ,WAAW,CAAC2C,wBADb;IAELjC,KAAK,EAAEA;EAFF,CAAP;AAID,CALM;AAOP,OAAO,MAAMkC,mBAAmB,GAAG,CAAC/B,KAAD,EAAQC,MAAR,EAAgBiB,SAAhB,KAA8B;EAC/D,OAAQhB,QAAD,IAAc;IACnBO,OAAO,CAACC,GAAR,CAAYQ,SAAZ;IACAhB,QAAQ,CAACuB,cAAc,EAAf,CAAR,CAFmB,CAInB;;IAEArC,UAAU,CACP4C,IADH,CAEI,OAFJ,EAGI;MACEd,SAAS,EAAEA;IADb,CAHJ,EAOI;MACEd,OAAO,EAAE;QACP,gBAAgB,kBADT;QAEPC,aAAa,EAAG,UAASL,KAAM,EAFxB;QAGPM,MAAM,EAAG,GAAEL,MAAO;MAHX;IADX,CAPJ,EAeGM,IAfH,CAeSC,GAAD,IAAS;MACbC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;MAEET,QAAQ,CACRyB,gBAAgB,CAAC;QACfjC,IAAI,EAAEc,GAAG,CAACG,IAAJ,CAASjB;MADA,CAAD,CADR,CAAR;IAKH,CAvBH,EAwBGa,IAxBH,CAwBQ,MAAM,CAEX,CA1BH,EA2BGO,KA3BH,CA2BUjB,KAAD,IAAW;MAChBK,QAAQ,CAAC2B,aAAa,CAAChC,KAAD,CAAd,CAAR;IACD,CA7BH;EA8BD,CApCD;AAqCD,CAtCM"},"metadata":{},"sourceType":"module"}