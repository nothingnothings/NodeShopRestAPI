{"ast":null,"code":"import _slicedToArray from\"A:/PORTF\\xD3LIO/ProjetoNodeShopComRestAPI/front-end-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{connect}from'react-redux';import*as orderActionTypes from'../../store/actions/order';import*as cartActionTypes from'../../store/actions/cart';import Spinner from'../UI/Spinner/Spinner';import Orders from'./Orders/Orders';import OrdersItem from'./Orders/OrdersItem/OrdersItem';import Wrapper from'../Wrapper/Wrapper';import CartItemList from'../Cart/CartItemList/CartItemList';import NoProduct from'../Cart/NoProduct/NoProduct';import'./OrderBoard.css';import{jsx as _jsx}from\"react/jsx-runtime\";var OrderBoard=function OrderBoard(props){var _useState=useState(),_useState2=_slicedToArray(_useState,2),currentUser=_useState2[0],setCurrentUser=_useState2[1];useEffect(function(){setCurrentUser(props.token);if(currentUser){props.onFetchOrders(props.token,props.userId);props.onFetchCart(props.token,props.userId);}},[currentUser]);var orders=/*#__PURE__*/_jsx(Spinner,{});if(!props.loading&&props.orders===[]){orders=/*#__PURE__*/_jsx(Wrapper,{children:/*#__PURE__*/_jsx(CartItemList,{children:/*#__PURE__*/_jsx(NoProduct,{children:/*#__PURE__*/_jsx(\"li\",{class:\"no-product cart-item\",children:/*#__PURE__*/_jsx(\"h2\",{style:{fontFamily:'Lato'},children:\"You haven't placed any orders yet.\"})})})})});}if(!props.loading&&props.orders.length>=1){var rawOrderList=props.orders[0];var actualOrderList=[];Object.entries(rawOrderList).map(function(object){return actualOrderList.push(object[1]);});orders=/*#__PURE__*/_jsx(Orders,{children:actualOrderList.map(function(order){if(order!=='orders'){return/*#__PURE__*/_jsx(OrdersItem,{orderId:order._id,orderKey:order._id,orderProducts:order.products,orderPrice:order.totalPrice,token:props.token,userId:props.userId},order._id);}})});}return/*#__PURE__*/_jsx(\"div\",{className:\"order-board\",children:orders});};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onFetchOrders:function onFetchOrders(token,userId){dispatch(orderActionTypes.asyncFetchOrdersStart(token,userId));},onFetchCart:function onFetchCart(token,userId){dispatch(cartActionTypes.asyncFetchCartStart(token,userId));}};};var mapStateToProps=function mapStateToProps(state){return{orders:state.orders.orders,loading:state.orders.loading,token:state.auth.token,userId:state.auth.userId};};export default connect(mapStateToProps,mapDispatchToProps)(OrderBoard);","map":{"version":3,"names":["React","useEffect","useState","connect","orderActionTypes","cartActionTypes","Spinner","Orders","OrdersItem","Wrapper","CartItemList","NoProduct","OrderBoard","props","currentUser","setCurrentUser","token","onFetchOrders","userId","onFetchCart","orders","loading","fontFamily","length","rawOrderList","actualOrderList","Object","entries","map","object","push","order","_id","products","totalPrice","mapDispatchToProps","dispatch","asyncFetchOrdersStart","asyncFetchCartStart","mapStateToProps","state","auth"],"sources":["A:/PORTFÃ“LIO/ProjetoNodeShopComRestAPI/front-end-react/src/components/OrderBoard/OrderBoard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nimport { connect } from 'react-redux';\r\n\r\nimport * as orderActionTypes from '../../store/actions/order';\r\nimport * as cartActionTypes from '../../store/actions/cart';\r\n\r\nimport Spinner from '../UI/Spinner/Spinner';\r\nimport Orders from './Orders/Orders';\r\nimport OrdersItem from './Orders/OrdersItem/OrdersItem';\r\nimport Wrapper from '../Wrapper/Wrapper';\r\nimport CartItemList from '../Cart/CartItemList/CartItemList';\r\nimport NoProduct from '../Cart/NoProduct/NoProduct';\r\nimport './OrderBoard.css';\r\n\r\nconst OrderBoard = (props) => {\r\n  const [currentUser, setCurrentUser] = useState();\r\n\r\n  useEffect(() => {\r\n    setCurrentUser(props.token);\r\n    if (currentUser) {\r\n      props.onFetchOrders(props.token, props.userId);\r\n      props.onFetchCart(props.token, props.userId);\r\n    }\r\n  }, [currentUser]);\r\n\r\n  let orders = <Spinner></Spinner>;\r\n\r\n  if (!props.loading && props.orders === []) {\r\n    orders = (\r\n      <Wrapper>\r\n        <CartItemList>\r\n          <NoProduct>\r\n            <li class=\"no-product cart-item\">\r\n              <h2 style={{ fontFamily: 'Lato' }}>\r\n                You haven't placed any orders yet.\r\n              </h2>\r\n            </li>\r\n          </NoProduct>\r\n        </CartItemList>\r\n      </Wrapper>\r\n    );\r\n  }\r\n\r\n  if (!props.loading && props.orders.length >= 1) {\r\n    const rawOrderList = props.orders[0];\r\n\r\n    const actualOrderList = [];\r\n\r\n    Object.entries(rawOrderList).map((object) => {\r\n      return actualOrderList.push(object[1]);\r\n    });\r\n\r\n    orders = (\r\n      <Orders>\r\n        {actualOrderList.map((order) => {\r\n          if (order !== 'orders') {\r\n            return (\r\n              <OrdersItem\r\n                key={order._id}\r\n                orderId={order._id}\r\n                orderKey={order._id}\r\n                orderProducts={order.products}\r\n                orderPrice={order.totalPrice}\r\n                token={props.token}\r\n                userId={props.userId}\r\n              ></OrdersItem>\r\n            );\r\n          }\r\n        })}\r\n      </Orders>\r\n    );\r\n  }\r\n\r\n  return <div className=\"order-board\">{orders}</div>;\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onFetchOrders: (token, userId) => {\r\n      dispatch(orderActionTypes.asyncFetchOrdersStart(token, userId));\r\n    },\r\n    onFetchCart: (token, userId) => {\r\n      dispatch(cartActionTypes.asyncFetchCartStart(token, userId));\r\n    },\r\n  };\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    orders: state.orders.orders,\r\n    loading: state.orders.loading,\r\n    token: state.auth.token,\r\n    userId: state.auth.userId,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(OrderBoard);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}