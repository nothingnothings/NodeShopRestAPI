{"ast":null,"code":"import * as shopActionTypes from '../actions/shopActionTypes';\nimport axiosOrder from '../../axios-orders';\nexport const fetchProductsStart = () => {\n  return {\n    type: shopActionTypes.FETCH_PRODUCTS_START\n  };\n};\nexport const fetchProductsSuccess = products => {\n  return {\n    type: shopActionTypes.FETCH_PRODUCTS_SUCCESS,\n    products\n  };\n};\nexport const fetchProductsFail = error => {\n  return {\n    type: shopActionTypes.FETCH_PRODUCTS_FAIL,\n    error: error\n  };\n};\nexport const asyncFetchProductsStart = () => {\n  return dispatch => {\n    dispatch(fetchProductsStart); // const queryParams =\n    //   '?auth=' + token + '&orderBy=\"userId\"&equalTo=\"' + userId + '\"'; ////sujeito a mudanças...\n\n    try {\n      axiosOrder.get('/shop') ///sujeito a mudanças, firebase\n      .then(res => {\n        console.log('TEST');\n        const fetchedProducts = [];\n\n        for (let key in res.data) {\n          console.log(key);\n          fetchedProducts.push({ ...res.data[key],\n            id: key\n          });\n        }\n\n        dispatch(fetchProductsSuccess(fetchedProducts));\n      }).catch(error => {\n        dispatch(fetchProductsFail(error));\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n};","map":{"version":3,"names":["shopActionTypes","axiosOrder","fetchProductsStart","type","FETCH_PRODUCTS_START","fetchProductsSuccess","products","FETCH_PRODUCTS_SUCCESS","fetchProductsFail","error","FETCH_PRODUCTS_FAIL","asyncFetchProductsStart","dispatch","get","then","res","console","log","fetchedProducts","key","data","push","id","catch","err"],"sources":["A:/PORTFÓLIO/ProjetoNodeShopComRestAPI/front-end-react/src/store/actions/shop.js"],"sourcesContent":["import * as shopActionTypes from '../actions/shopActionTypes';\r\n\r\nimport axiosOrder from '../../axios-orders';\r\n\r\nexport const fetchProductsStart = () => {\r\n  return {\r\n    type: shopActionTypes.FETCH_PRODUCTS_START,\r\n  };\r\n};\r\n\r\nexport const fetchProductsSuccess = (products) => {\r\n  return {\r\n    type: shopActionTypes.FETCH_PRODUCTS_SUCCESS,\r\n    products,\r\n  };\r\n};\r\n\r\nexport const fetchProductsFail = (error) => {\r\n  return {\r\n    type: shopActionTypes.FETCH_PRODUCTS_FAIL,\r\n    error: error,\r\n  };\r\n};\r\n\r\nexport const asyncFetchProductsStart = () => {\r\n  return (dispatch) => {\r\n    dispatch(fetchProductsStart);\r\n\r\n    // const queryParams =\r\n    //   '?auth=' + token + '&orderBy=\"userId\"&equalTo=\"' + userId + '\"'; ////sujeito a mudanças...\r\n\r\n\r\n    try {\r\n    axiosOrder\r\n      .get('/shop') ///sujeito a mudanças, firebase\r\n      .then((res) => {\r\n        console.log('TEST')\r\n        const fetchedProducts = [];\r\n        for (let key in res.data) {\r\n            console.log(key);\r\n          fetchedProducts.push({\r\n            ...res.data[key],\r\n            id: key,\r\n          });\r\n        }\r\n        dispatch(fetchProductsSuccess(fetchedProducts));\r\n      })\r\n      .catch((error) => {\r\n        dispatch(fetchProductsFail(error));\r\n      })\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n  };\r\n};\r\n"],"mappings":"AAAA,OAAO,KAAKA,eAAZ,MAAiC,4BAAjC;AAEA,OAAOC,UAAP,MAAuB,oBAAvB;AAEA,OAAO,MAAMC,kBAAkB,GAAG,MAAM;EACtC,OAAO;IACLC,IAAI,EAAEH,eAAe,CAACI;EADjB,CAAP;AAGD,CAJM;AAMP,OAAO,MAAMC,oBAAoB,GAAIC,QAAD,IAAc;EAChD,OAAO;IACLH,IAAI,EAAEH,eAAe,CAACO,sBADjB;IAELD;EAFK,CAAP;AAID,CALM;AAOP,OAAO,MAAME,iBAAiB,GAAIC,KAAD,IAAW;EAC1C,OAAO;IACLN,IAAI,EAAEH,eAAe,CAACU,mBADjB;IAELD,KAAK,EAAEA;EAFF,CAAP;AAID,CALM;AAOP,OAAO,MAAME,uBAAuB,GAAG,MAAM;EAC3C,OAAQC,QAAD,IAAc;IACnBA,QAAQ,CAACV,kBAAD,CAAR,CADmB,CAGnB;IACA;;IAGA,IAAI;MACJD,UAAU,CACPY,GADH,CACO,OADP,EACgB;MADhB,CAEGC,IAFH,CAESC,GAAD,IAAS;QACbC,OAAO,CAACC,GAAR,CAAY,MAAZ;QACA,MAAMC,eAAe,GAAG,EAAxB;;QACA,KAAK,IAAIC,GAAT,IAAgBJ,GAAG,CAACK,IAApB,EAA0B;UACtBJ,OAAO,CAACC,GAAR,CAAYE,GAAZ;UACFD,eAAe,CAACG,IAAhB,CAAqB,EACnB,GAAGN,GAAG,CAACK,IAAJ,CAASD,GAAT,CADgB;YAEnBG,EAAE,EAAEH;UAFe,CAArB;QAID;;QACDP,QAAQ,CAACP,oBAAoB,CAACa,eAAD,CAArB,CAAR;MACD,CAbH,EAcGK,KAdH,CAcUd,KAAD,IAAW;QAChBG,QAAQ,CAACJ,iBAAiB,CAACC,KAAD,CAAlB,CAAR;MACD,CAhBH;IAiBC,CAlBD,CAkBE,OAAOe,GAAP,EAAY;MACVR,OAAO,CAACC,GAAR,CAAYO,GAAZ;IACH;EACF,CA5BD;AA6BD,CA9BM"},"metadata":{},"sourceType":"module"}