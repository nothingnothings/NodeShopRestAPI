{"ast":null,"code":"import { updateObject } from '../../shared/util';\nimport * as cartActionTypes from '../actions/cartActionTypes';\nconst initialState = {\n  error: false,\n  products: [],\n  totalPrice: 0,\n  loading: false,\n  toCart: false\n};\n\nconst fetchCartSuccess = (state, action) => {\n  return updateObject(state, {\n    loading: false,\n    products: action.cart.products,\n    totalPrice: action.cart.totalPrice\n  });\n};\n\nconst fetchCartFail = (state, action) => {\n  return updateObject(state, {\n    loading: false,\n    error: action.error\n  });\n};\n\nconst removeFromCartStart = (state, _action) => {\n  return updateObject(state, {\n    loading: true\n  });\n};\n\nconst removeFromCartSuccess = (state, action) => {\n  let updatedProducts = state.products;\n  updatedProducts = updatedProducts.filter(product => {\n    return product.productId._id !== action.productId;\n  });\n  const totalPrice = state.totalPrice;\n  const removedProduct = state.products.find(product => {\n    return product.productId._id === action.productId;\n  });\n  const totalProductPrice = removedProduct.price * removedProduct.quantity;\n  return updateObject(state, {\n    loading: false,\n    products: updatedProducts,\n    totalPrice: totalPrice - totalProductPrice\n  });\n};\n\nconst removeFromCartFail = (state, action) => {\n  return updateObject(state, {\n    loading: false,\n    error: action.error\n  });\n};\n\nconst addProductToCartStart = (state, _action) => {\n  return updateObject(state, {\n    loading: true\n  });\n};\n\nconst addProductToCartSuccess = (state, action) => {\n  return updateObject(state, {\n    loading: true,\n    cart: action.cart,\n    toCart: true\n  });\n};\n\nconst addProductToCartFail = (state, action) => {\n  return updateObject(state, {\n    loading: true,\n    error: action.error\n  });\n};\n\nconst cartReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case cartActionTypes.FETCH_CART_START:\n      return updateObject(state, {\n        loading: true,\n        toCart: false\n      });\n\n    case cartActionTypes.FETCH_CART_SUCCESS:\n      return fetchCartSuccess(state, action);\n\n    case cartActionTypes.FETCH_CART_FAIL:\n      return fetchCartFail(state, action);\n\n    case cartActionTypes.REMOVE_PRODUCT_FROM_CART_START:\n      return removeFromCartStart(state, action);\n\n    case cartActionTypes.REMOVE_PRODUCT_FROM_CART_SUCCESS:\n      return removeFromCartSuccess(state, action);\n\n    case cartActionTypes.REMOVE_PRODUCT_FROM_CART_FAIL:\n      return removeFromCartFail(state, action);\n\n    case cartActionTypes.ADD_PRODUCT_TO_CART_START:\n      return addProductToCartStart(state, action);\n\n    case cartActionTypes.ADD_PRODUCT_TO_CART_SUCCESS:\n      return addProductToCartSuccess(state, action);\n\n    case cartActionTypes.ADD_PRODUCT_TO_CART_FAIL:\n      return addProductToCartFail(state, action);\n\n    default:\n      return state;\n  }\n};\n\nexport default cartReducer;","map":{"version":3,"names":["updateObject","cartActionTypes","initialState","error","products","totalPrice","loading","toCart","fetchCartSuccess","state","action","cart","fetchCartFail","removeFromCartStart","_action","removeFromCartSuccess","updatedProducts","filter","product","productId","_id","removedProduct","find","totalProductPrice","price","quantity","removeFromCartFail","addProductToCartStart","addProductToCartSuccess","addProductToCartFail","cartReducer","type","FETCH_CART_START","FETCH_CART_SUCCESS","FETCH_CART_FAIL","REMOVE_PRODUCT_FROM_CART_START","REMOVE_PRODUCT_FROM_CART_SUCCESS","REMOVE_PRODUCT_FROM_CART_FAIL","ADD_PRODUCT_TO_CART_START","ADD_PRODUCT_TO_CART_SUCCESS","ADD_PRODUCT_TO_CART_FAIL"],"sources":["A:/PORTFÃ“LIO/ProjetoNodeShopComRestAPI/front-end-react/src/store/reducers/cartReducer.js"],"sourcesContent":["import { updateObject } from '../../shared/util';\r\nimport * as cartActionTypes from '../actions/cartActionTypes';\r\n\r\nconst initialState = {\r\n  error: false,\r\n  products: [],\r\n  totalPrice: 0,\r\n  loading: false,\r\n  toCart: false\r\n};\r\n\r\nconst fetchCartSuccess = (state, action) => {\r\n  return updateObject(state, {\r\n    loading: false,\r\n    products: action.cart.products,\r\n    totalPrice: action.cart.totalPrice,\r\n  });\r\n};\r\n\r\nconst fetchCartFail = (state, action) => {\r\n  return updateObject(state, {\r\n    loading: false,\r\n    error: action.error,\r\n  });\r\n};\r\n\r\nconst removeFromCartStart = (state, _action) => {\r\n  return updateObject(state, {\r\n    loading: true,\r\n  });\r\n};\r\n\r\nconst removeFromCartSuccess = (state, action) => {\r\n  let updatedProducts = state.products;\r\n\r\n  updatedProducts = updatedProducts.filter((product) => {\r\n    return product.productId._id !== action.productId;\r\n  });\r\n\r\n  const totalPrice = state.totalPrice;\r\n\r\n  const removedProduct = state.products.find((product) => {\r\n    return product.productId._id === action.productId;\r\n  });\r\n\r\n  const totalProductPrice = removedProduct.price * removedProduct.quantity;\r\n\r\n  return updateObject(state, {\r\n    loading: false,\r\n    products: updatedProducts,\r\n    totalPrice: totalPrice - totalProductPrice,\r\n  });\r\n};\r\n\r\nconst removeFromCartFail = (state, action) => {\r\n  return updateObject(state, {\r\n    loading: false,\r\n    error: action.error,\r\n  });\r\n};\r\n\r\nconst addProductToCartStart = (state, _action) => {\r\n  return updateObject(state, {\r\n    loading: true,\r\n  });\r\n};\r\n\r\nconst addProductToCartSuccess = (state, action) => {\r\n  return updateObject(state, {\r\n    loading: true,\r\n    cart: action.cart,\r\n    toCart: true\r\n  });\r\n};\r\n\r\nconst addProductToCartFail = (state, action) => {\r\n  return updateObject(state, {\r\n    loading: true,\r\n    error: action.error,\r\n  });\r\n};\r\n\r\nconst cartReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case cartActionTypes.FETCH_CART_START:\r\n      return updateObject(state, { loading: true, toCart: false});\r\n    case cartActionTypes.FETCH_CART_SUCCESS:\r\n      return fetchCartSuccess(state, action);\r\n    case cartActionTypes.FETCH_CART_FAIL:\r\n      return fetchCartFail(state, action);\r\n    case cartActionTypes.REMOVE_PRODUCT_FROM_CART_START:\r\n      return removeFromCartStart(state, action);\r\n    case cartActionTypes.REMOVE_PRODUCT_FROM_CART_SUCCESS:\r\n      return removeFromCartSuccess(state, action);\r\n    case cartActionTypes.REMOVE_PRODUCT_FROM_CART_FAIL:\r\n      return removeFromCartFail(state, action);\r\n    case cartActionTypes.ADD_PRODUCT_TO_CART_START:\r\n      return addProductToCartStart(state, action);\r\n    case cartActionTypes.ADD_PRODUCT_TO_CART_SUCCESS:\r\n      return addProductToCartSuccess(state, action);\r\n    case cartActionTypes.ADD_PRODUCT_TO_CART_FAIL:\r\n      return addProductToCartFail(state, action);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default cartReducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}