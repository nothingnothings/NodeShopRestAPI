{"ast":null,"code":"import * as shopActionTypes from '../actions/shopActionTypes';\nimport axiosOrder from '../../axios-orders';\nexport const fetchProductsStart = () => {\n  return {\n    type: shopActionTypes.FETCH_PRODUCTS_START\n  };\n};\nexport const fetchProductsSuccess = (products, pageNumber) => {\n  return {\n    type: shopActionTypes.FETCH_PRODUCTS_SUCCESS,\n    products,\n    pageNumber: pageNumber\n  };\n};\nexport const fetchProductsFail = error => {\n  return {\n    type: shopActionTypes.FETCH_PRODUCTS_FAIL,\n    error: error\n  };\n};\nexport const asyncFetchProductsStart = (pageNumber, direction) => {\n  return dispatch => {\n    dispatch(fetchProductsStart());\n    let page = pageNumber || 1;\n\n    if (direction === 'next') {\n      page++;\n    }\n\n    if (direction === 'previous') {\n      page--;\n    }\n\n    axiosOrder({\n      method: 'GET',\n      url: `/shop/?page=${page}`\n    }).then(res => {\n      const fetchedProducts = [];\n\n      for (const key in res.data) {\n        fetchedProducts.push({ ...res.data[key],\n          id: key,\n          value: res.data[key]\n        });\n      }\n\n      dispatch(fetchProductsSuccess(fetchedProducts, page));\n    }).catch(error => {\n      if (error.response) {\n        console.log(error.toJSON());\n      }\n\n      dispatch(fetchProductsFail(error));\n    });\n  };\n};","map":{"version":3,"names":["shopActionTypes","axiosOrder","fetchProductsStart","type","FETCH_PRODUCTS_START","fetchProductsSuccess","products","pageNumber","FETCH_PRODUCTS_SUCCESS","fetchProductsFail","error","FETCH_PRODUCTS_FAIL","asyncFetchProductsStart","direction","dispatch","page","method","url","then","res","fetchedProducts","key","data","push","id","value","catch","response","console","log","toJSON"],"sources":["A:/PORTFÃ“LIO/ProjetoNodeShopComRestAPI/front-end-react/src/store/actions/shop.js"],"sourcesContent":["import * as shopActionTypes from '../actions/shopActionTypes';\r\n\r\nimport axiosOrder from '../../axios-orders';\r\n\r\nexport const fetchProductsStart = () => {\r\n  return {\r\n    type: shopActionTypes.FETCH_PRODUCTS_START,\r\n  };\r\n};\r\n\r\nexport const fetchProductsSuccess = (products, pageNumber) => {\r\n  return {\r\n    type: shopActionTypes.FETCH_PRODUCTS_SUCCESS,\r\n    products,\r\n    pageNumber: pageNumber,\r\n  };\r\n};\r\n\r\nexport const fetchProductsFail = (error) => {\r\n  return {\r\n    type: shopActionTypes.FETCH_PRODUCTS_FAIL,\r\n    error: error,\r\n  };\r\n};\r\n\r\nexport const asyncFetchProductsStart = (pageNumber, direction) => {\r\n  return (dispatch) => {\r\n    dispatch(fetchProductsStart());\r\n    let page = pageNumber || 1;\r\n\r\n    if (direction === 'next') {\r\n      page++;\r\n    }\r\n\r\n    if (direction === 'previous') {\r\n      page--;\r\n    }\r\n\r\n    axiosOrder({\r\n      method: 'GET',\r\n      url: `/shop/?page=${page}`,\r\n    })\r\n      .then((res) => {\r\n        const fetchedProducts = [];\r\n        for (const key in res.data) {\r\n          fetchedProducts.push({\r\n            ...res.data[key],\r\n            id: key,\r\n            value: res.data[key],\r\n          });\r\n        }\r\n        dispatch(fetchProductsSuccess(fetchedProducts, page));\r\n      })\r\n      .catch((error) => {\r\n        if (error.response) {\r\n          console.log(error.toJSON());\r\n        }\r\n        dispatch(fetchProductsFail(error));\r\n      });\r\n  };\r\n};\r\n"],"mappings":"AAAA,OAAO,KAAKA,eAAZ,MAAiC,4BAAjC;AAEA,OAAOC,UAAP,MAAuB,oBAAvB;AAEA,OAAO,MAAMC,kBAAkB,GAAG,MAAM;EACtC,OAAO;IACLC,IAAI,EAAEH,eAAe,CAACI;EADjB,CAAP;AAGD,CAJM;AAMP,OAAO,MAAMC,oBAAoB,GAAG,CAACC,QAAD,EAAWC,UAAX,KAA0B;EAC5D,OAAO;IACLJ,IAAI,EAAEH,eAAe,CAACQ,sBADjB;IAELF,QAFK;IAGLC,UAAU,EAAEA;EAHP,CAAP;AAKD,CANM;AAQP,OAAO,MAAME,iBAAiB,GAAIC,KAAD,IAAW;EAC1C,OAAO;IACLP,IAAI,EAAEH,eAAe,CAACW,mBADjB;IAELD,KAAK,EAAEA;EAFF,CAAP;AAID,CALM;AAOP,OAAO,MAAME,uBAAuB,GAAG,CAACL,UAAD,EAAaM,SAAb,KAA2B;EAChE,OAAQC,QAAD,IAAc;IACnBA,QAAQ,CAACZ,kBAAkB,EAAnB,CAAR;IACA,IAAIa,IAAI,GAAGR,UAAU,IAAI,CAAzB;;IAEA,IAAIM,SAAS,KAAK,MAAlB,EAA0B;MACxBE,IAAI;IACL;;IAED,IAAIF,SAAS,KAAK,UAAlB,EAA8B;MAC5BE,IAAI;IACL;;IAEDd,UAAU,CAAC;MACTe,MAAM,EAAE,KADC;MAETC,GAAG,EAAG,eAAcF,IAAK;IAFhB,CAAD,CAAV,CAIGG,IAJH,CAISC,GAAD,IAAS;MACb,MAAMC,eAAe,GAAG,EAAxB;;MACA,KAAK,MAAMC,GAAX,IAAkBF,GAAG,CAACG,IAAtB,EAA4B;QAC1BF,eAAe,CAACG,IAAhB,CAAqB,EACnB,GAAGJ,GAAG,CAACG,IAAJ,CAASD,GAAT,CADgB;UAEnBG,EAAE,EAAEH,GAFe;UAGnBI,KAAK,EAAEN,GAAG,CAACG,IAAJ,CAASD,GAAT;QAHY,CAArB;MAKD;;MACDP,QAAQ,CAACT,oBAAoB,CAACe,eAAD,EAAkBL,IAAlB,CAArB,CAAR;IACD,CAdH,EAeGW,KAfH,CAeUhB,KAAD,IAAW;MAChB,IAAIA,KAAK,CAACiB,QAAV,EAAoB;QAClBC,OAAO,CAACC,GAAR,CAAYnB,KAAK,CAACoB,MAAN,EAAZ;MACD;;MACDhB,QAAQ,CAACL,iBAAiB,CAACC,KAAD,CAAlB,CAAR;IACD,CApBH;EAqBD,CAjCD;AAkCD,CAnCM"},"metadata":{},"sourceType":"module"}