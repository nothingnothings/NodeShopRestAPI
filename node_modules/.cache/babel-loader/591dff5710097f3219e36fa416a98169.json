{"ast":null,"code":"import{updateObject}from'../../shared/util';import*as cartActionTypes from'../actions/cartActionTypes';var initialState={error:false,products:[],totalPrice:0,loading:false};var fetchCartSuccess=function fetchCartSuccess(state,action){return updateObject(state,{loading:false,products:action.cart.products,totalPrice:action.cart.totalPrice});};var fetchCartFail=function fetchCartFail(state,action){return updateObject(state,{loading:false,error:action.error});};var removeFromCartStart=function removeFromCartStart(state,_action){return updateObject(state,{loading:true});};var removeFromCartSuccess=function removeFromCartSuccess(state,action){var updatedProducts=state.products;updatedProducts=updatedProducts.filter(function(product){return product.productId._id!==action.productId;});var totalPrice=state.totalPrice;var removedProduct=state.products.find(function(product){return product.productId._id===action.productId;});var totalProductPrice=removedProduct.price*removedProduct.quantity;return updateObject(state,{loading:false,products:updatedProducts,totalPrice:totalPrice-totalProductPrice});};var removeFromCartFail=function removeFromCartFail(state,action){return updateObject(state,{loading:false,error:action.error});};var addProductToCartStart=function addProductToCartStart(state,_action){return updateObject(state,{loading:true});};var addProductToCartSuccess=function addProductToCartSuccess(state,action){return updateObject(state,{loading:false,products:action.products});};var addProductToCartFail=function addProductToCartFail(state,action){return updateObject(state,{loading:false,error:action.error});};var cartReducer=function cartReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case cartActionTypes.FETCH_CART_START:return updateObject(state,{loading:true,toCart:false});case cartActionTypes.FETCH_CART_SUCCESS:return fetchCartSuccess(state,action);case cartActionTypes.FETCH_CART_FAIL:return fetchCartFail(state,action);case cartActionTypes.REMOVE_PRODUCT_FROM_CART_START:return removeFromCartStart(state,action);case cartActionTypes.REMOVE_PRODUCT_FROM_CART_SUCCESS:return removeFromCartSuccess(state,action);case cartActionTypes.REMOVE_PRODUCT_FROM_CART_FAIL:return removeFromCartFail(state,action);case cartActionTypes.ADD_PRODUCT_TO_CART_START:return addProductToCartStart(state,action);case cartActionTypes.ADD_PRODUCT_TO_CART_SUCCESS:return addProductToCartSuccess(state,action);case cartActionTypes.ADD_PRODUCT_TO_CART_FAIL:return addProductToCartFail(state,action);default:return state;}};export default cartReducer;","map":{"version":3,"names":["updateObject","cartActionTypes","initialState","error","products","totalPrice","loading","fetchCartSuccess","state","action","cart","fetchCartFail","removeFromCartStart","_action","removeFromCartSuccess","updatedProducts","filter","product","productId","_id","removedProduct","find","totalProductPrice","price","quantity","removeFromCartFail","addProductToCartStart","addProductToCartSuccess","addProductToCartFail","cartReducer","type","FETCH_CART_START","toCart","FETCH_CART_SUCCESS","FETCH_CART_FAIL","REMOVE_PRODUCT_FROM_CART_START","REMOVE_PRODUCT_FROM_CART_SUCCESS","REMOVE_PRODUCT_FROM_CART_FAIL","ADD_PRODUCT_TO_CART_START","ADD_PRODUCT_TO_CART_SUCCESS","ADD_PRODUCT_TO_CART_FAIL"],"sources":["A:/PORTFÃ“LIO/ProjetoNodeShopComRestAPI/front-end-react/src/store/reducers/cartReducer.js"],"sourcesContent":["import { updateObject } from '../../shared/util';\r\nimport * as cartActionTypes from '../actions/cartActionTypes';\r\n\r\nconst initialState = {\r\n  error: false,\r\n  products: [],\r\n  totalPrice: 0,\r\n  loading: false,\r\n};\r\n\r\nconst fetchCartSuccess = (state, action) => {\r\n  return updateObject(state, {\r\n    loading: false,\r\n    products: action.cart.products,\r\n    totalPrice: action.cart.totalPrice,\r\n  });\r\n};\r\n\r\nconst fetchCartFail = (state, action) => {\r\n  return updateObject(state, {\r\n    loading: false,\r\n    error: action.error,\r\n  });\r\n};\r\n\r\nconst removeFromCartStart = (state, _action) => {\r\n  return updateObject(state, {\r\n    loading: true,\r\n  });\r\n};\r\n\r\nconst removeFromCartSuccess = (state, action) => {\r\n  let updatedProducts = state.products;\r\n\r\n  updatedProducts = updatedProducts.filter((product) => {\r\n    return product.productId._id !== action.productId;\r\n  });\r\n\r\n  const totalPrice = state.totalPrice;\r\n\r\n  const removedProduct = state.products.find((product) => {\r\n    return product.productId._id === action.productId;\r\n  });\r\n\r\n  const totalProductPrice = removedProduct.price * removedProduct.quantity;\r\n\r\n  return updateObject(state, {\r\n    loading: false,\r\n    products: updatedProducts,\r\n    totalPrice: totalPrice - totalProductPrice,\r\n  });\r\n};\r\n\r\nconst removeFromCartFail = (state, action) => {\r\n  return updateObject(state, {\r\n    loading: false,\r\n    error: action.error,\r\n  });\r\n};\r\n\r\nconst addProductToCartStart = (state, _action) => {\r\n  return updateObject(state, {\r\n    loading: true,\r\n  });\r\n};\r\n\r\nconst addProductToCartSuccess = (state, action) => {\r\n  return updateObject(state, {\r\n    loading: false,\r\n    products: action.products,\r\n  });\r\n};\r\n\r\nconst addProductToCartFail = (state, action) => {\r\n  return updateObject(state, {\r\n    loading: false,\r\n    error: action.error,\r\n  });\r\n};\r\n\r\nconst cartReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case cartActionTypes.FETCH_CART_START:\r\n      return updateObject(state, { loading: true, toCart: false });\r\n    case cartActionTypes.FETCH_CART_SUCCESS:\r\n      return fetchCartSuccess(state, action);\r\n    case cartActionTypes.FETCH_CART_FAIL:\r\n      return fetchCartFail(state, action);\r\n    case cartActionTypes.REMOVE_PRODUCT_FROM_CART_START:\r\n      return removeFromCartStart(state, action);\r\n    case cartActionTypes.REMOVE_PRODUCT_FROM_CART_SUCCESS:\r\n      return removeFromCartSuccess(state, action);\r\n    case cartActionTypes.REMOVE_PRODUCT_FROM_CART_FAIL:\r\n      return removeFromCartFail(state, action);\r\n    case cartActionTypes.ADD_PRODUCT_TO_CART_START:\r\n      return addProductToCartStart(state, action);\r\n    case cartActionTypes.ADD_PRODUCT_TO_CART_SUCCESS:\r\n      return addProductToCartSuccess(state, action);\r\n    case cartActionTypes.ADD_PRODUCT_TO_CART_FAIL:\r\n      return addProductToCartFail(state, action);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default cartReducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}