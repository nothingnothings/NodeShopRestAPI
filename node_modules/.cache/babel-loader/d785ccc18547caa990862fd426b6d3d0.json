{"ast":null,"code":"import _slicedToArray from\"A:/PORTF\\xD3LIO/ProjetoNodeShopComRestAPI/front-end-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{NavLink,useParams}from'react-router-dom';import{connect}from'react-redux';import axiosOrder from'../../axios-orders';import*as cartActionTypes from'../../store/actions/cart';import Hexagon from'../../components/ProductItem/Hexagon/Hexagon';import Button from'../../components/UI/Button/Button';import'./ProductDetail.css';import'../../components/OrderBoard/Orders/OrdersItem/OrdersItem.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductDetail=function ProductDetail(props){var _useParams=useParams(),productId=_useParams.productId;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),productDetail=_useState2[0],setProductDetail=_useState2[1];useEffect(function(){axiosOrder.get(\"/shop/\".concat(productId)).then(function(res){if(res.status!==200){throw new Error('Failed to fetch Product Data');}return res.data.product;}).then(function(product){setProductDetail(product);});},[]);var addToCartButton=/*#__PURE__*/_jsx(NavLink,{className:\"button\",to:\"/auth\",children:\"Add to Cart\"});var addProductToCartHandler=function addProductToCartHandler(productId){props.onAddToCart(props.token,props.userId,productId);};if(props.token){addToCartButton=/*#__PURE__*/_jsx(Button,{clicked:addProductToCartHandler,buttonClass:\"button\",isEnabled:true,buttonType:\"button\",children:\"Add to Cart\"});}return/*#__PURE__*/_jsx(\"div\",{className:\"product-detail\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"product-detail__controls\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"product-detail__highlight\",children:[/*#__PURE__*/_jsx(\"h1\",{children:productDetail.title}),/*#__PURE__*/_jsx(Hexagon,{imageUrl:\"/\".concat(productDetail.imageUrl),title:productDetail.title}),/*#__PURE__*/_jsx(\"h3\",{children:productDetail.description})]}),/*#__PURE__*/_jsx(\"div\",{className:\"orders__item centered\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"orders__item-lines product-detail\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"US$ \",productDetail.price]}),addToCartButton,\"\\xF0\"]})})]})});};var mapStateToProps=function mapStateToProps(state){return{token:state.auth.token,userId:state.auth.userId};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onAddToCart:function onAddToCart(token,userId,productId){dispatch(cartActionTypes.asyncAddToCartStart(token,userId,productId));}};};export default connect(mapStateToProps,mapDispatchToProps)(ProductDetail);","map":{"version":3,"names":["React","useEffect","useState","NavLink","useParams","connect","axiosOrder","cartActionTypes","Hexagon","Button","ProductDetail","props","productId","productDetail","setProductDetail","get","then","res","status","Error","data","product","addToCartButton","addProductToCartHandler","onAddToCart","token","userId","title","imageUrl","description","price","mapStateToProps","state","auth","mapDispatchToProps","dispatch","asyncAddToCartStart"],"sources":["A:/PORTFÓLIO/ProjetoNodeShopComRestAPI/front-end-react/src/pages/Product-Detail/ProductDetail.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { NavLink, useParams } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport axiosOrder from '../../axios-orders';\r\n\r\nimport * as cartActionTypes from '../../store/actions/cart';\r\n\r\nimport Hexagon from '../../components/ProductItem/Hexagon/Hexagon';\r\nimport Button from '../../components/UI/Button/Button';\r\n\r\nimport './ProductDetail.css';\r\nimport '../../components/OrderBoard/Orders/OrdersItem/OrdersItem.css';\r\n\r\nconst ProductDetail = (props) => {\r\n  let { productId } = useParams();\r\n\r\n  const [productDetail, setProductDetail] = useState({});\r\n\r\n  useEffect(() => {\r\n    axiosOrder\r\n      .get(`/shop/${productId}`)\r\n      .then((res) => {\r\n        if (res.status !== 200) {\r\n          throw new Error('Failed to fetch Product Data');\r\n        }\r\n        return res.data.product;\r\n      })\r\n      .then((product) => {\r\n        setProductDetail(product);\r\n      });\r\n  }, []);\r\n\r\n  let addToCartButton = (\r\n    <NavLink className=\"button\" to=\"/auth\">\r\n      Add to Cart\r\n    </NavLink>\r\n  );\r\n\r\n  const addProductToCartHandler = (productId) => {\r\n    props.onAddToCart(props.token, props.userId, productId);\r\n  };\r\n\r\n  if (props.token) {\r\n    addToCartButton = (\r\n      <Button\r\n        clicked={addProductToCartHandler}\r\n        buttonClass=\"button\"\r\n        isEnabled\r\n        buttonType=\"button\"\r\n      >\r\n        Add to Cart\r\n      </Button>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"product-detail\">\r\n      <div className=\"product-detail__controls\">\r\n        <div className=\"product-detail__highlight\">\r\n          <h1>{productDetail.title}</h1>\r\n          <Hexagon\r\n            imageUrl={`/${productDetail.imageUrl}`}\r\n            title={productDetail.title}\r\n          ></Hexagon>\r\n          <h3>{productDetail.description}</h3>\r\n        </div>\r\n        <div className=\"orders__item centered\">\r\n          <div className=\"orders__item-lines product-detail\">\r\n            <h2>US$ {productDetail.price}</h2>\r\n            {addToCartButton}ð\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    token: state.auth.token,\r\n    userId: state.auth.userId,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onAddToCart: (token, userId, productId) => {\r\n      dispatch(cartActionTypes.asyncAddToCartStart(token, userId, productId));\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductDetail);\r\n"],"mappings":"+IAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,OAAT,CAAkBC,SAAlB,KAAmC,kBAAnC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAOC,WAAP,KAAuB,oBAAvB,CAEA,MAAO,GAAKC,gBAAZ,KAAiC,0BAAjC,CAEA,MAAOC,QAAP,KAAoB,8CAApB,CACA,MAAOC,OAAP,KAAmB,mCAAnB,CAEA,MAAO,qBAAP,CACA,MAAO,8DAAP,C,wFAEA,GAAMC,cAAa,CAAG,QAAhBA,cAAgB,CAACC,KAAD,CAAW,CAC/B,eAAoBP,SAAS,EAA7B,CAAMQ,SAAN,YAAMA,SAAN,CAEA,cAA0CV,QAAQ,CAAC,EAAD,CAAlD,wCAAOW,aAAP,eAAsBC,gBAAtB,eAEAb,SAAS,CAAC,UAAM,CACdK,UAAU,CACPS,GADH,iBACgBH,SADhB,GAEGI,IAFH,CAEQ,SAACC,GAAD,CAAS,CACb,GAAIA,GAAG,CAACC,MAAJ,GAAe,GAAnB,CAAwB,CACtB,KAAM,IAAIC,MAAJ,CAAU,8BAAV,CAAN,CACD,CACD,MAAOF,IAAG,CAACG,IAAJ,CAASC,OAAhB,CACD,CAPH,EAQGL,IARH,CAQQ,SAACK,OAAD,CAAa,CACjBP,gBAAgB,CAACO,OAAD,CAAhB,CACD,CAVH,EAWD,CAZQ,CAYN,EAZM,CAAT,CAcA,GAAIC,gBAAe,cACjB,KAAC,OAAD,EAAS,SAAS,CAAC,QAAnB,CAA4B,EAAE,CAAC,OAA/B,yBADF,CAMA,GAAMC,wBAAuB,CAAG,QAA1BA,wBAA0B,CAACX,SAAD,CAAe,CAC7CD,KAAK,CAACa,WAAN,CAAkBb,KAAK,CAACc,KAAxB,CAA+Bd,KAAK,CAACe,MAArC,CAA6Cd,SAA7C,EACD,CAFD,CAIA,GAAID,KAAK,CAACc,KAAV,CAAiB,CACfH,eAAe,cACb,KAAC,MAAD,EACE,OAAO,CAAEC,uBADX,CAEE,WAAW,CAAC,QAFd,CAGE,SAAS,KAHX,CAIE,UAAU,CAAC,QAJb,yBADF,CAUD,CAED,mBACE,YAAK,SAAS,CAAC,gBAAf,uBACE,aAAK,SAAS,CAAC,0BAAf,wBACE,aAAK,SAAS,CAAC,2BAAf,wBACE,oBAAKV,aAAa,CAACc,KAAnB,EADF,cAEE,KAAC,OAAD,EACE,QAAQ,YAAMd,aAAa,CAACe,QAApB,CADV,CAEE,KAAK,CAAEf,aAAa,CAACc,KAFvB,EAFF,cAME,oBAAKd,aAAa,CAACgB,WAAnB,EANF,GADF,cASE,YAAK,SAAS,CAAC,uBAAf,uBACE,aAAK,SAAS,CAAC,mCAAf,wBACE,6BAAShB,aAAa,CAACiB,KAAvB,GADF,CAEGR,eAFH,UADF,EATF,GADF,EADF,CAoBD,CA9DD,CAgEA,GAAMS,gBAAe,CAAG,QAAlBA,gBAAkB,CAACC,KAAD,CAAW,CACjC,MAAO,CACLP,KAAK,CAAEO,KAAK,CAACC,IAAN,CAAWR,KADb,CAELC,MAAM,CAAEM,KAAK,CAACC,IAAN,CAAWP,MAFd,CAAP,CAID,CALD,CAOA,GAAMQ,mBAAkB,CAAG,QAArBA,mBAAqB,CAACC,QAAD,CAAc,CACvC,MAAO,CACLX,WAAW,CAAE,qBAACC,KAAD,CAAQC,MAAR,CAAgBd,SAAhB,CAA8B,CACzCuB,QAAQ,CAAC5B,eAAe,CAAC6B,mBAAhB,CAAoCX,KAApC,CAA2CC,MAA3C,CAAmDd,SAAnD,CAAD,CAAR,CACD,CAHI,CAAP,CAKD,CAND,CAQA,cAAeP,QAAO,CAAC0B,eAAD,CAAkBG,kBAAlB,CAAP,CAA6CxB,aAA7C,CAAf"},"metadata":{},"sourceType":"module"}